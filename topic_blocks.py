# topic_blocks.py

topic_blocks = {
    "логарифмы": {
        "definition": "Логарифм числа b по основанию a — это показатель степени x, такой что a^x=b.",
        "youtube": [
            "https://youtu.be/UJ67zBGU_Zo",
            "https://youtu.be/AxMkmkXgRjQ"
        ],
        "summary": (
            "Логарифм: log_a(b)=x ⇔ a^x=b.\n"
            "Перед любыми преобразованиями проверь ОДЗ:\n"
            "• a > 0, a ≠ 1\n"
            "• b > 0\n"
            "Типовой план:\n"
            "1) Запиши ОДЗ.\n"
            "2) Упрости выражение свойствами логарифмов.\n"
            "3) Для уравнений: приведи к виду log_a(F(x))=log_a(G(x)) или к a^{…}=…\n"
            "4) Для неравенств: если 0<a<1, знак меняется при переходе к показательной форме.\n"
            "5) В конце обязательно отфильтруй ответы по ОДЗ."
        ),
        "formulas": [
            "log_a(b)=x ⇔ a^x=b",
            "ОДЗ: a>0, a≠1, b>0",
            "log_a(uv)=log_a(u)+log_a(v)",
            "log_a(u/v)=log_a(u)−log_a(v)",
            "log_a(u^k)=k·log_a(u)",
            "log_a(a)=1",
            "log_a(1)=0",
            "a^{log_a(b)}=b (b>0)",
            "log_a(a^x)=x (если a>0, a≠1)"
        ],
        "example": "log₂(32)=5, потому что 2⁵=32."
    },

    "тригонометрия": {
        "definition": "Тригонометрия изучает взаимосвязь между сторонами и углами треугольников.",
        "youtube": [
            "https://youtu.be/iNXYdBrAU5I",
            "https://youtu.be/IzPpgE1zbnk"
        ],
        "summary": (
            "Тригонометрия: sin, cos, tg и преобразования углов.\n"
            "Как решать типовые задачи:\n"
            "1) Если выражение сложное, своди всё к sin и cos.\n"
            "2) Используй тождества (sin²x+cos²x=1) и формулы суммы/разности.\n"
            "3) Уравнения решай через базовые формы sin x=a, cos x=a, tg x=a.\n"
            "4) Не забывай про периодичность (2π или π).\n"
            "5) Для табличных значений используй единичную окружность."
        ),
        "formulas": [
            "sin²x + cos²x = 1",
            "tgx = sinx / cosx",
            "ctgx = cosx / sinx",
            "sin(−x)=−sinx, cos(−x)=cosx, tg(−x)=−tgx",
            "sin(x±y)=sinx·cosy ± cosx·siny",
            "cos(x±y)=cosx·cosy ∓ sinx·siny",
            "sin(2x)=2sinx·cosx",
            "cos(2x)=cos²x−sin²x = 1−2sin²x = 2cos²x−1",
            "sin x=a ⇒ x=(−1)^k·arcsin(a)+kπ",
            "cos x=a ⇒ x=±arccos(a)+2kπ",
            "tg x=a ⇒ x=arctg(a)+kπ"
        ],
        "example": "sin 30° = 1/2."
    },

    "интегралы": {
        "definition": "Интеграл — это операция, обратная дифференцированию; нахождение площади под кривой.",
        "youtube": [
            "https://youtu.be/K-jYwP9h2Xw"
        ],
        "summary": (
            "Интеграл — обратная операция к производной.\n"
            "План решения:\n"
            "1) Сначала попробуй табличные интегралы.\n"
            "2) Если внутри стоит сложная функция, используй замену переменной.\n"
            "3) Если произведение (x·e^x, x·sinx и т.п.), применяй интегрирование по частям.\n"
            "4) Для определённого интеграла: найди первообразную и подставь пределы.\n"
            "5) Для неопределённого интеграла всегда добавляй +C."
        ),
        "formulas": [
            "∫ f(x) dx = F(x) + C, где F'(x)=f(x)",
            "∫ x^n dx = x^(n+1)/(n+1) + C, n≠−1",
            "∫ 1/x dx = ln|x| + C",
            "∫ e^x dx = e^x + C",
            "∫ a^x dx = a^x/ln(a) + C, a>0, a≠1",
            "∫ sinx dx = −cosx + C",
            "∫ cosx dx = sinx + C",
            "Замена: ∫ f(g(x))·g'(x) dx = ∫ f(u) du",
            "По частям: ∫ u dv = u·v − ∫ v du",
            "Определённый: ∫_a^b f(x) dx = F(b) − F(a)"
        ],
        "example": "∫2x dx = x² + C."
    },

    "уравнения": {
        "definition": "Уравнение — математическое выражение, содержащее неизвестные переменные и знак равенства.",
        "youtube": [
            "https://youtu.be/z_1a0RzFlRg"
        ],
        "summary": (
            "Уравнение — равенство с неизвестной.\n"
            "Алгоритм:\n"
            "1) Упростить выражение и привести к стандартному виду.\n"
            "2) Выбрать метод: линейное, квадратное, разложение на множители, замена.\n"
            "3) Найти корни.\n"
            "4) Проверить подстановкой (особенно если были дроби, корни, логарифмы).\n"
            "5) Записать ответ."
        ),
        "formulas": [
            "Линейное: ax+b=0 ⇒ x=−b/a (a≠0)",
            "Квадратное: ax²+bx+c=0 (a≠0)",
            "D=b²−4ac",
            "x=(−b±√D)/(2a)",
            "A²−B²=(A−B)(A+B)",
            "(a+b)²=a²+2ab+b²",
            "(a−b)²=a²−2ab+b²",
            "|x|=a ⇒ x=±a (a≥0)"
        ],
        "example": "3x + 5 = 14  => 3x = 9  => x = 3."
    },

    "комбинаторика": {
        "definition": "Комбинаторика — раздел математики, изучающий дискретные объекты, множества (сочетания, перестановки, размещения).",
        "youtube": [
            "https://youtu.be/p8Fh-S-43W8"
        ],
        "summary": (
            "Комбинаторика считает количество способов.\n"
            "Как выбрать формулу:\n"
            "• Перестановки: важен порядок, берём все n.\n"
            "• Размещения: важен порядок, берём k из n.\n"
            "• Сочетания: порядок не важен, берём k из n.\n"
            "Также часто применяются правила суммы и произведения."
        ),
        "formulas": [
            "Правило суммы: m+n (варианты не пересекаются)",
            "Правило произведения: m·n (последовательный выбор)",
            "n! = 1·2·…·n, 0!=1",
            "P_n = n!",
            "A_n^k = n!/(n−k)!",
            "C_n^k = n!/(k!(n−k)!)",
            "C_n^k = C_n^{n−k}"
        ],
        "example": "Сколько способов выбрать 2 из 3 элементов: C₃² = 3."
    },

    "матрицы": {
        "definition": "Матрица — таблица чисел, над которой выполняются операции (сложение, умножение, определитель).",
        "youtube": [
            "https://youtu.be/z_1a0RzFlRg"
        ],
        "summary": (
            "Матрицы используются в системах уравнений и линейной алгебре.\n"
            "База:\n"
            "1) Сложение/вычитание — поэлементно.\n"
            "2) Умножение: (AB)_{ij}=Σ a_{ik}b_{kj}.\n"
            "3) det(2×2)=ad−bc.\n"
            "4) A^{-1} существует, если det(A)≠0."
        ),
        "formulas": [
            "(A+B)_{ij}=a_{ij}+b_{ij}",
            "(AB)_{ij}=Σ_k a_{ik}·b_{kj}",
            "det([[a,b],[c,d]])=ad−bc",
            "A^{-1} существует ⇔ det(A)≠0",
            "[[a,b],[c,d]]^{-1}=(1/(ad−bc))·[[d,−b],[−c,a]]"
        ],
        "example": "det([[2,3],[1,4]]) = 2·4 − 3·1 = 5."
    },

    "вероятности": {
        "definition": "Вероятность — мера возможности наступления события.",
        "youtube": [
            "https://youtu.be/K8Sg5aI2V2I"
        ],
        "summary": (
            "Вероятность события A: P(A)=m/n.\n"
            "План:\n"
            "1) Определи все исходы.\n"
            "2) Посчитай благоприятные.\n"
            "3) Применяй формулы объединения/пересечения.\n"
            "Для независимых событий: P(A∩B)=P(A)·P(B)."
        ),
        "formulas": [
            "P(A)=m/n",
            "P(Ā)=1−P(A)",
            "P(A∪B)=P(A)+P(B)−P(A∩B)",
            "Если независимы: P(A∩B)=P(A)·P(B)",
            "P(A|B)=P(A∩B)/P(B), P(B)>0"
        ],
        "example": "При броске кубика P(выпадения 3) = 1/6."
    },

    "неравенства": {
        "definition": "Неравенство — математическое выражение, где вместо знака равенства стоит знак неравенства (<, >, ≤, ≥).",
        "youtube": [
            "https://youtu.be/0y-Je8HoqtA"
        ],
        "summary": (
            "Неравенства чаще решают методом интервалов.\n"
            "Шаги:\n"
            "1) Перенеси всё в одну сторону: f(x)>0 или f(x)<0.\n"
            "2) Найди критические точки (нули числителя, нули знаменателя).\n"
            "3) Разбей прямую на интервалы.\n"
            "4) Определи знак на каждом интервале.\n"
            "5) Запиши ответ с учётом строгого/нестрогого знака."
        ),
        "formulas": [
            "Если умножаем/делим на отрицательное число — знак меняется",
            "|x|<a ⇔ −a<x<a (a>0)",
            "|x|>a ⇔ x<−a или x>a (a>0)",
            "ax²+bx+c > 0 решается через корни и знак a"
        ],
        "example": "x + 3 > 5  => x > 2."
    },

    "арифметика": {
        "definition": "Арифметика — раздел математики, изучающий числа и основные операции над ними.",
        "youtube": [
            "https://youtu.be/3z-z9uBw82s"
        ],
        "summary": (
            "Арифметика: операции с числами и порядок действий.\n"
            "Правила:\n"
            "1) Скобки → степени → умножение/деление → сложение/вычитание.\n"
            "2) Деление на 0 запрещено.\n"
            "3) Для дробей при сложении/вычитании приводи к общему знаменателю."
        ),
        "formulas": [
            "Порядок: ( ) → степени → ×/÷ → +/−",
            "a(b+c)=ab+ac",
            "a/b=a·(1/b), b≠0"
        ],
        "example": "(5 + 3) · 2 = 8 · 2 = 16."
    },

    "геометрия": {
        "definition": "Геометрия — раздел математики, изучающий пространственные формы и отношения.",
        "youtube": [
            "https://youtu.be/oG7j06XjMvI"
        ],
        "summary": (
            "Геометрия: фигуры, углы, теоремы.\n"
            "База:\n"
            "1) Сумма углов треугольника 180°.\n"
            "2) В прямоугольном треугольнике: Пифагор.\n"
            "3) Площади и длины считай по формуле нужной фигуры.\n"
            "Совет: делай рисунок и подписывай данные."
        ),
        "formulas": [
            "α+β+γ=180°",
            "a²+b²=c²",
            "S_△=1/2·a·h_a",
            "L=2πr",
            "S_круга=πr²"
        ],
        "example": "В прямоугольном треугольнике катеты 3 и 4, гипотенуза 5."
    },

    "площадь/объём": {
        "definition": "Площадь — площадь поверхности фигуры. Объём — пространство внутри тела.",
        "youtube": [
            "https://youtu.be/aUSzV6zG8AE"
        ],
        "summary": (
            "Площади и объёмы: главное определить фигуру и не перепутать единицы.\n"
            "Шаги:\n"
            "1) Определи фигуру/тело.\n"
            "2) Запиши формулу.\n"
            "3) Подставь значения.\n"
            "4) Единицы: площадь (см²), объём (см³)."
        ),
        "formulas": [
            "Квадрат: S=a², P=4a",
            "Прямоугольник: S=ab, P=2(a+b)",
            "Треугольник: S=1/2·a·h",
            "Круг: S=πr², L=2πr",
            "Куб: V=a³, S_пов=6a²",
            "Цилиндр: V=πr²h, S_бок=2πrh, S_полн=2πr(h+r)",
            "Шар: V=4/3·πr³, S=4πr²"
        ],
        "example": "Если r=3 и h=10 → V=π·3²·10=90π."
    },

    "последовательности": {
        "definition": "Последовательность — упорядоченный набор чисел по правилу.",
        "youtube": [
            "https://youtu.be/Cq5E4_KHZn0"
        ],
        "summary": (
            "Последовательности и прогрессии.\n"
            "Типы:\n"
            "• Арифметическая: каждый раз +d.\n"
            "• Геометрическая: каждый раз ×q.\n"
            "Часто ищут n-й член или сумму первых n членов."
        ),
        "formulas": [
            "Арифм.: a_n = a_1 + (n−1)d",
            "Арифм.: S_n = (a_1+a_n)·n/2",
            "Геом.: b_n = b_1·q^(n−1)",
            "Геом.: S_n = b_1·(q^n−1)/(q−1), q≠1",
            "Если q=1: S_n=b_1·n"
        ],
        "example": "Если a1=2,d=3 → a5=2+(5−1)·3=14."
    },

    "пределы": {
        "definition": "Предел функции — это значение, к которому функция приближается по мере того, как её аргумент приближается к некоторой точке.",
        "youtube": [
            "https://youtu.be/lJv4V3h_27o"
        ],
        "summary": (
            "Предел описывает поведение функции при x→a или x→∞.\n"
            "Как решать:\n"
            "1) Подстановка (если можно).\n"
            "2) Если 0/0 или ∞/∞: вынеси общий множитель, сократи, используй замечательные пределы.\n"
            "3) Тригонометрические пределы решай через стандартные формулы.\n"
            "4) Если разрешено, иногда применяют правило Лопиталя."
        ),
        "formulas": [
            "lim(f+g)=lim f + lim g",
            "lim(f·g)=(lim f)·(lim g)",
            "lim(f/g)=(lim f)/(lim g), если lim g≠0",
            "lim_{x→0} sinx/x = 1",
            "lim_{x→0} (1−cosx)/x² = 1/2",
            "lim_{x→0} (1+x)^{1/x} = e"
        ],
        "example": "lim (x→2) (x² - 4) / (x - 2) = lim (x→2) (x + 2) = 4."
    },

    "производные": {
        "definition": "Производная функции — это скорость изменения функции в данной точке.",
        "youtube": [
            "https://youtu.be/L8e5pW6yO5s"
        ],
        "summary": (
            "Производная показывает скорость изменения функции.\n"
            "Применения: касательная, экстремумы, исследование функции.\n"
            "Алгоритм экстремумов:\n"
            "1) Найди f'(x).\n"
            "2) Реши f'(x)=0.\n"
            "3) Проверь знак f'(x) или используй f''(x)."
        ),
        "formulas": [
            "(x^n)' = n·x^(n−1)",
            "(sinx)' = cosx",
            "(cosx)' = −sinx",
            "(tgx)' = 1/cos²x",
            "(e^x)' = e^x",
            "(lnx)' = 1/x",
            "(f+g)' = f' + g'",
            "(fg)' = f'g + fg'",
            "(f/g)' = (f'g − fg')/g²",
            "(f(g(x)))' = f'(g(x))·g'(x)"
        ],
        "example": "Если f(x) = x², то f'(x) = 2x."
    },

    "проценты": {
        "definition": "Процент — сотая часть числа, используемая для выражения доли от целого.",
        "youtube": [
            "https://youtu.be/3z-z9uBw82s"
        ],
        "summary": (
            "Проценты: 1% = 1/100.\n"
            "Типовые задачи:\n"
            "1) Найти p% от числа: N·p/100.\n"
            "2) Найти число по его p%: N = A·100/p.\n"
            "3) Увеличение/уменьшение на p%: N_new = N·(1±p/100).\n"
            "4) Несколько изменений подряд: умножай коэффициенты."
        ),
        "formulas": [
            "p% = p/100",
            "p% от N: N·p/100",
            "Если p% от N равно A: N = A·100/p",
            "После +p%: N_new = N·(1 + p/100)",
            "После −p%: N_new = N·(1 − p/100)"
        ],
        "example": "10% от 200 = 20."
    },

    "дроби": {
        "definition": "Дробь — число, представляющее часть целого или отношение двух чисел.",
        "youtube": [
            "https://youtu.be/YF_B5YnJ20s"
        ],
        "summary": (
            "Дроби: a/b.\n"
            "Алгоритм:\n"
            "1) Сложение/вычитание: общий знаменатель.\n"
            "2) Умножение: числители вместе, знаменатели вместе.\n"
            "3) Деление: умножение на обратную.\n"
            "4) Сокращай дробь на общий делитель."
        ),
        "formulas": [
            "a/b + c/d = (ad + bc)/(bd)",
            "a/b − c/d = (ad − bc)/(bd)",
            "(a/b)·(c/d) = (ac)/(bd)",
            "(a/b) : (c/d) = (a/b)·(d/c), c≠0"
        ],
        "example": "1/2 + 1/3 = 3/6 + 2/6 = 5/6."
    },

    "функции": {
        "definition": "Функция — правило, которое каждому элементу из одного множества (области определения) сопоставляет ровно один элемент из другого множества (области значений).",
        "youtube": [
            "https://youtu.be/vF0a4M1gXW0"
        ],
        "summary": (
            "Функция сопоставляет каждому x ровно одно y.\n"
            "Что важно:\n"
            "1) Область определения D(f).\n"
            "2) Область значений E(f).\n"
            "3) Нули функции: f(x)=0.\n"
            "4) Монотонность и график.\n"
            "Часто нужно подставлять значения и узнавать тип графика."
        ),
        "formulas": [
            "Линейная: y = kx + b",
            "Квадратичная: y = ax² + bx + c",
            "Показательная: y = a^x (a>0, a≠1)",
            "Логарифмическая: y = log_a(x) (a>0, a≠1, x>0)",
            "Обратная: y = k/x (x≠0)"
        ],
        "example": "f(x) = 2x + 1. Если x=3, то f(3)=7."
    },

    # Granular Geometric Hints
    "triangle_area_volume": {
        "definition": "Расчет площади или объема, связанного с треугольником.",
        "youtube": [
            "https://youtu.be/oG7j06XjMvI",
            "https://www.youtube.com/watch?v=FORMULA_TRIANGLE_AREA"
        ],
        "summary": (
            "Треугольник: площадь чаще всего считают по основанию и высоте.\n"
            "Шаги:\n"
            "1) Найди основание a и высоту h_a.\n"
            "2) S = 1/2·a·h_a.\n"
            "Если известны 3 стороны: используй формулу Герона.\n"
            "Если известны две стороны и угол между ними: S = 1/2·ab·sin(γ)."
        ),
        "formulas": [
            "S = 1/2·a·h_a",
            "Герон: S = √(p(p−a)(p−b)(p−c)), p=(a+b+c)/2",
            "S = 1/2·ab·sin(γ)",
            "α+β+γ=180°"
        ],
        "example": "Площадь треугольника с основанием 10 см и высотой 6 см: S = (1/2) * 10 * 6 = 30 см².",
        "hint1": "Вспомни формулу для площади треугольника.",
        "hint2": "Площадь треугольника: S = (1/2) * основание * высота. S = (1/2)bh"
    },

    "square_area_volume": {
        "definition": "Расчет площади или периметра квадрата.",
        "youtube": [
            "https://youtu.be/oG7j06XjMvI",
            "https://www.youtube.com/watch?v=FORMULA_SQUARE_PERIMETER"
        ],
        "summary": (
            "Квадрат: все стороны равны, углы 90°.\n"
            "Чаще всего ищут периметр или площадь.\n"
            "Шаги:\n"
            "1) Найди сторону a.\n"
            "2) P=4a, S=a².\n"
            "Если дана диагональ d: a = d/√2."
        ),
        "formulas": [
            "P = 4a",
            "S = a²",
            "d = a√2",
            "a = d/√2"
        ],
        "example": "Периметр квадрата со стороной 7 см: P = 4 * 7 = 28 см.",
        "hint1": "Подумай, как найти периметр квадрата.",
        "hint2": "Периметр квадрата: P = 4 * сторона. P = 4a"
    },

    "rectangle_area_volume": {
        "definition": "Расчет площади или периметра прямоугольника.",
        "youtube": [
            "https://youtu.be/oG7j06XjMvI",
            "https://www.youtube.com/watch?v=FORMULA_RECTANGLE_AREA"
        ],
        "summary": (
            "Прямоугольник: противоположные стороны равны, углы 90°.\n"
            "Шаги:\n"
            "1) Периметр: P=2(a+b).\n"
            "2) Площадь: S=a·b.\n"
            "3) Диагональ: d=√(a²+b²) (если нужно)."
        ),
        "formulas": [
            "P = 2(a + b)",
            "S = a · b",
            "d = √(a² + b²)",
            "a + b = P/2"
        ],
        "example": "Площадь прямоугольника со сторонами 4 и 5: S = 4 * 5 = 20.",
        "hint1": "Вспомни формулы для периметра и площади прямоугольника.",
        "hint2": "Периметр прямоугольника: P = 2(a + b). Площадь: S = a · b"
    },

    "circle_area_volume": {
        "definition": "Расчет площади или длины окружности (периметра) круга.",
        "youtube": [
            "https://youtu.be/aUSzV6zG8AE",
            "https://www.youtube.com/watch?v=FORMULA_CIRCLE_AREA"
        ],
        "summary": (
            "Круг: задачи на площадь и длину окружности.\n"
            "Шаги:\n"
            "1) Найди радиус r или диаметр d=2r.\n"
            "2) Площадь: S=πr².\n"
            "3) Длина окружности: L=2πr=πd."
        ),
        "formulas": [
            "S = πr²",
            "L = 2πr",
            "L = πd",
            "d = 2r",
            "π ≈ 3.14"
        ],
        "example": "Площадь круга радиусом 5 см: S = π * 5² = 25π см².",
        "hint1": "Вспомни формулу для площади круга или длины окружности.",
        "hint2": "Площадь круга: S = πr². Длина окружности: C = 2πr."
    },

    "cube_area_volume": {
        "definition": "Расчет объема или площади поверхности куба.",
        "youtube": [
            "https://youtu.be/aUSzV6zG8AE",
            "https://www.youtube.com/watch?v=FORMULA_CUBE_VOLUME"
        ],
        "summary": (
            "Куб: все рёбра равны a.\n"
            "Шаги:\n"
            "1) Объём: V=a³.\n"
            "2) Площадь поверхности: S=6a².\n"
            "Если дана диагональ куба D: D=a√3."
        ),
        "formulas": [
            "V = a³",
            "S = 6a²",
            "Диагональ грани: d = a√2",
            "Диагональ куба: D = a√3",
            "a = D/√3"
        ],
        "example": "Объем куба с ребром 3 см: V = 3³ = 27 см³.",
        "hint1": "Вспомни формулы для объема и площади поверхности куба.",
        "hint2": "Объем куба: V = a³. Площадь поверхности: S = 6a²."
    },

    "cylinder_area_volume": {
        "definition": "Расчет объема или площади поверхности цилиндра.",
        "youtube": [
            "https://youtu.be/aUSzV6zG8AE",
            "https://www.youtube.com/watch?v=FORMULA_CYLINDER_VOLUME"
        ],
        "summary": (
            "Цилиндр: радиус r и высота h.\n"
            "Шаги:\n"
            "1) Объём: V=πr²h.\n"
            "2) Боковая поверхность: S_бок=2πrh.\n"
            "3) Полная поверхность: S_полн=2πr(h+r)."
        ),
        "formulas": [
            "V = πr²h",
            "S_бок = 2πrh",
            "S_полн = 2πr(h + r)",
            "d = 2r"
        ],
        "example": "Объем цилиндра с радиусом 2 и высотой 5: V = π * 2² * 5 = 20π.",
        "hint1": "Вспомни формулы для объема и площади поверхности цилиндра.",
        "hint2": "Объем цилиндра: V = πr²h. Площадь боковой поверхности: S_бок = 2πrh."
    },
}
